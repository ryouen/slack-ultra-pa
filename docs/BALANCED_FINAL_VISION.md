# 🎯 最終ビジョン：実用的なバランス型 Personal Assistant

## 基本方針：シンプル + 本当に便利な機能だけ

### コア機能（必須）

#### 1. `/inbox` - 統合受信箱（でもシンプルに）
```
/inbox

[INBOX] 4件の要対応
━━━━━━━━━━━━━━━━━
💬 @山田 プロジェクトの進捗共有 (2時間前) #times_ryouen
   [💡 返信案] [✅ タスク化] [👁 既読]

✅ [P1] API設計書レビュー (今日締切)
   [完了] [延期] [詳細]

💬 @佐藤 会議日程の調整 (5時間前) #general  
   [💡 返信案] [✅ タスク化] [👁 既読]

✅ [P2] テストコード追加 (明日締切)
   [完了] [延期] [詳細]
```

**なぜinbox統合は価値があるか**：
- メンションとタスクは実際には関連している
- 1つの場所で「やるべきこと」が見える
- でも複雑なAI優先順位付けはしない（表示順は時系列）

#### 2. `/add` - クイック追加（変更なし）
```
/add [P1] 明日までにリリースノート作成
```

#### 3. `/focus` - 今集中すべき3つ
```
/focus

[FOCUS] 今やるべき3つ
1. API設計書レビュー (締切: 17:00)
2. @山田への進捗返信
3. テストコード追加

他18件のタスクは後回しでOK
```

### 本当に価値がある補助機能

#### 1. Quick Reply（AIだけど実用的）
```
[💡 返信案] クリック
↓
1. 承知しました。本日中に対応します。
2. ご連絡ありがとうございます。確認して折り返します。
3. 申し訳ございません。明日の対応でもよろしいでしょうか。

[使う] [編集] [キャンセル]
```
**価値**: 定型的な返信の時短（実測3分→30秒）

#### 2. スマートリマインダー（でもシンプル）
```
タスク作成時：
"明日の会議準備" → 自動で今日17時にリマインド
"来週のレビュー" → 3日前にリマインド
```
**価値**: 忘れ防止（ただし時間は固定、学習なし）

#### 3. ワンクリックリンク（統合ではなく）
```
毎朝の /inbox 表示時に追加：
──────────
📅 今日のカレンダー | 📝 議事録テンプレ | 📊 ダッシュボード
```
**価値**: よく使うツールへの素早いアクセス

### 絶対にやらないこと

#### ❌ 外部API統合
- Google Calendar読み込み → リンクで十分
- Notion同期 → 複雑すぎる
- Email統合 → スコープ外

#### ❌ 複雑な自動化
- 自動タスク作成 → 勝手に作られても困る
- 自動優先順位変更 → ユーザーが決める
- 自動レポート → 誰も読まない

#### ❌ 学習機能
- 行動パターン分析 → 1人なら不要
- 返信スタイル学習 → テンプレで十分
- 最適時間予測 → 固定時間で十分

## 実装計画（現実的）

### Phase 1: 既存機能の整理（1週間）
1. `/mention` と `/todo` を `/inbox` に統合
2. Quick Reply機能の安定化
3. 不要な機能の削除

### Phase 2: 価値機能の追加（2週間）
1. `/focus` コマンド（上位3つ表示）
2. シンプルなリマインダー
3. クイックリンク

### Phase 3: 改善と安定化（1週間）
1. パフォーマンス最適化
2. エラーハンドリング改善
3. ドキュメント整備

**合計: 1ヶ月で完成**

## 技術的な実装方針

### データモデル（シンプル化）
```prisma
model WorkItem {
  id        String   @id
  type      ItemType // MENTION or TASK
  content   String
  priority  String?  // P1, P2, P3 (タスクのみ)
  due       DateTime?
  status    Status   // PENDING, DONE
  userId    String
  metadata  Json     // 柔軟な追加情報
}
```

### アーキテクチャ
```
src/
  commands/
    inbox.ts    // 統合表示
    add.ts      // 追加
    focus.ts    // 集中
  services/
    workItem.service.ts  // 統合サービス
    reminder.service.ts  // シンプルリマインダー
    reply.service.ts     // Quick Reply
  utils/
    formatter.ts  // Slack UI構築
```

### 依存関係
- Slack API ✅
- OpenAI API ✅（Quick Replyのみ）
- PostgreSQL ✅
- Redis ❌（不要）
- その他外部API ❌（不要）

## 成功指標

### 定量的
- 開発期間: 4週間以内
- コード行数: 2000行以下
- 月間保守: 2時間以下
- 応答速度: 1秒以内

### 定性的
- 「これは便利」と感じる
- 毎日使いたくなる
- 説明書不要で使える
- 壊れにくい

## リスクと対策

| リスク | 可能性 | 影響 | 対策 |
|--------|--------|------|------|
| OpenAI API停止 | 低 | 中 | Quick Reply機能のみ影響、定型文フォールバック |
| Slack API変更 | 低 | 高 | 年1回の確認で十分 |
| DB容量超過 | 低 | 低 | 1ユーザーなら問題なし |
| 機能不足 | 中 | 低 | 後から追加可能 |

## 結論

このバランス型アプローチは：
- **実装可能**: 1ヶ月で完成
- **価値がある**: 実際の問題を解決
- **保守可能**: 年間20時間程度
- **拡張可能**: 必要に応じて機能追加

**究極のシンプル vs 過度な統合** の中間点として、
実用性と保守性のバランスが取れている。