# 既読フェードアウト実装詳細

## 概要
Slack Block Kit APIの制約により、CSSアニメーションは使用できません。代わりに段階的なメッセージ更新で視覚的フィードバックを実現しています。

## 実装方法

### ステップ1: 打ち消し線表示（即座）
- 既読ボタンクリック時、該当メンションに打ち消し線（`~テキスト~`）を適用
- ボタンは非表示にして、既読処理中であることを明示

### ステップ2: 完全削除（1秒後）
- `setTimeout`で1秒待機後、メンションリストから完全削除
- 残りのメンションで再構築、または空の場合は完了メッセージ表示

## 技術的制約と対策

| 制約 | 対策 |
|------|------|
| CSS opacity使用不可 | Markdown打ち消し線で代替 |
| リアルタイムアニメーション不可 | 段階的更新で疑似アニメーション |
| DM内でのephemeral更新不可 | `chat.update`使用（通常メッセージ） |

## ユーザー体験
1. 既読ボタンクリック
2. メンションテキストに打ち消し線（視覚的フィードバック）
3. 1秒後に行が消える（達成感）
4. "✅ 既読にしました" 通知表示

## テスト方法
```bash
# 1. /mention コマンドでメンション一覧表示
# 2. 任意のメンションの「既読」ボタンをクリック
# 3. 打ち消し線→削除のアニメーションを確認
```

## 今後の改善案
- 打ち消し線の代わりに薄い色文字（`:white_small_square:`プレフィックス等）
- 段階的な文字削除（100文字→50文字→削除）
- カスタム絵文字での視覚効果